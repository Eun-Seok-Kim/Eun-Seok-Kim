<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<style type="text/css">
		span{
			display: inline-block;
			width: 100px;
			/*text-align: center; */
			text-indent: 20px; /* 들여쓰기 20px */
		}
		
		
		</style>
<!-- 외부 자바 스크립트 연결 -->
	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="text/javascript" src='../js/jumin_function.js'></script>
		
		
		<script type="text/javascript">
		var regular_jumin_no  = /\d{2}([0]\d|[1][0-2])([0][1-9]|[1-2]\d|[3][0-1])[-]*[0-9]\d{6}/;
		//var regular_jumin_no = /^(?:[0-9]{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[1,2][0-9]|3[0,1]))-[0-9][0-9]{6}$/;
		function show_result() {
			
			var jumin_no = document.getElementById("jumin_no").value;
			
			//주민번호 유효성체크 정규식
			if(regular_jumin_no==false){
				alert('정확한 주민번호를 입력하세요');
				document.getElementById("jumin_no").value=''; //값지우기
				document.getElementById("jumin_no").focus();
				return;
			}
			
			if(isValid(jumin_no)==false){
				Swal.fire({
					  icon: 'info',
					  title: '유효하지 않은 주민번호',
					  text: '주민번호를 확인하세요',
					  footer: '<a href="">Why do I have this issue?</a>'
					})		
				//alert("유효하지 않은 주민번호")
				document.getElementById("jumin_no").focus();
				return;
			}
			
			
			//출생년도 구하기
			var year = getYear(jumin_no)
			document.getElementById('span_year').innerHTML = year;			
			//나이 구하기
			var age = getAge(year)
			document.getElementById('span_age').innerHTML = age;
			//띠 구하기
			var tti = getTti(year)
			document.getElementById('span_tti').innerHTML = tti;
			//성별
			var gender = getGender(jumin_no)
			document.getElementById('span_gender').innerHTML = gender;
			//출생계절
			var season = getSeason(jumin_no)
			document.getElementById('span_season').innerHTML = season;
			//출생지역
			var local = getLocal(jumin_no)
			document.getElementById('span_local').innerHTML = local;
			//60갑자
			var gan_ji = getGanji(year)
			document.getElementById('span_ganji').innerHTML = gan_ji;
		}
		
		
		</script>
	</head>
<body>
주민번호 : <input id="jumin_no" value="801212-1234560">
		   <input type="button" value="결과보기" onclick="show_result();">
<hr>
<table border="1">
	<caption>:::결과:::</caption>
	<tr>
		<th>출생년도</th>
		<td><span id="span_year"></span></td>
	</tr>

	<tr>
		<th>나이</th>
		<td><span id="span_age"></span></td>
	</tr>
	
	<tr>
		<th>띠</th>
		<td><span id="span_tti"></span></td>
	</tr>

	<tr>
		<th>성별</th>
		<td><span id="span_gender"></span></td>
	</tr>

	<tr>
		<th>출생계절</th>
		<td><span id="span_season"></span></td>
	</tr>
	
	<tr>
		<th>출생지역</th>
		<td><span id="span_local"></span></td>
	</tr>
	
	<tr>
		<th>60갑자</th>
		<td><span id="span_ganji"></span></td>
	</tr>
</table>

</body>
</html>